<ion-content>


    <ion-card>
      
      <ion-card-header>

        <toggle-register-login value="register"> </toggle-register-login>

      </ion-card-header>

      <ion-card-content>

        <ion-item id="registerNote" lines="none">
          {{ 'RegisterText' | translate }}
        </ion-item>
        
        <ion-item *ngIf="!finishRegistrationMode; else finishRegistrationForm">
          <ion-label position="floating">
            {{ 'Email' | translate }}
          </ion-label>
          <ion-input 
            [disabled]="finishRegistrationMode"
            type="email" 
            [formControl]="email"
            ></ion-input>
        </ion-item>
        
        <ng-template #finishRegistrationForm>
          <form [formGroup]="finishForm">
            <ion-item>
              <ion-label position="floating">
                {{ 'Username' | translate }}
              </ion-label>          
              <ion-input 
                type="text"
                formControlName="username"></ion-input>
            </ion-item>
    
            <ion-item>
              <ion-label position="floating">
                {{ 'Password' | translate }}
              </ion-label>          
              <ion-input 
              type="password"
              formControlName="password"></ion-input>
            </ion-item>

          </form>
        </ng-template>

      </ion-card-content>

      <ion-button 
        *ngIf="!finishRegistrationMode; else finishRegistrationButton"
        size="large"
        expand="full" 
        [disabled]="!email.valid"
        (click)="sendEmail()">
        {{ 'Register' | translate }}
      </ion-button>

      <ng-template #finishRegistrationButton>
        <ion-button 
          size="large"
          expand="full" 
          [disabled]="!finishForm.valid"
          (click)="finishRegistration()">
          {{ 'FinishRegistration' | translate }}
        </ion-button>
      </ng-template>

    </ion-card>

</ion-content>
