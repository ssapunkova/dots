<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      {{ 'Home' | translate }}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="!loadingService.isPageLoading">

  <ion-grid>

    <ion-row>

      <ion-col>

        <h1>
          {{ 'MonthlyStats' | translate }}
        </h1>

        <div class="monthCarousel">

          <ion-slides [options]="slideOpts">

            <ion-slide
              *ngFor="let month of showingMonths; let i = index">
              
                <ion-card style="height: 100%;">

                  <ion-card-header class="color-{{i + 1}}">
                    {{ month }}
                  </ion-card-header>

                  <ion-card-content>

                    <div *ngIf="workoutStats.MonthlyStats.Data[month] != null">

                      <div class="sub-header">
                        {{ 'Workouts' | translate }}
                      </div>

                      <div>
                        <ion-icon 
                          class="tendencyIcon"
                          name="arrow-{{ workoutStats.MonthlyStats.Data[month].Arrows[0]}}"
                          [color]="workoutStats.MonthlyStats.Data[month].Arrows[0] == 'up' ? 'success': 'danger'">
                        </ion-icon>
                        {{ workoutStats.MonthlyStats.Data[month].Records / 4 | number: '1.0-1'}}
                        {{ 'timesAWeek' | translate }}
                      </div>

                      <div>
                        <ion-icon 
                          class="tendencyIcon"
                          name="arrow-{{ workoutStats.MonthlyStats.Data[month].Arrows[1]}}"
                          [color]="workoutStats.MonthlyStats.Data[month].Arrows[1] == 'up' ? 'success': 'danger'">
                        </ion-icon>
                        {{ workoutStats.MonthlyStats.Data[month].Percentage | number: '1.0-0'}}%
                        {{ 'fullfilledGoals' | translate }}
                      </div>

                    </div>

                    <div *ngIf="vitalsStats.MonthlyStats.Data[month] != null">

                      <div class="sub-header">
                        {{ 'Vitals' | translate }}
                      </div>

                      <div>
                        <ion-icon 
                          class="tendencyIcon"
                          name="arrow-{{ vitalsStats.MonthlyStats.Data[month].Arrows}}"
                          [color]="vitalsStats.MonthlyStats.Data[month].Arrows == 'up' ? 'success': 'danger'">
                        </ion-icon>
                        {{ vitalsStats.MonthlyStats.Data[month].Percentage | number: '1.0-0'}}%
                        {{ 'fullfilledGoals' | translate }}
                      </div>

                    </div>

                  </ion-card-content>

                </ion-card>

            </ion-slide>

          </ion-slides>
          
        </div>

      </ion-col>

    </ion-row>

    <ion-row>

      <ion-col>

        <h1>
          {{ 'Analysis' | translate }}
        </h1>

      </ion-col>

    </ion-row>


  </ion-grid>

</ion-content>
