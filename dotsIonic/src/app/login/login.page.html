<ion-content>


  <ion-card>
    
    <ion-card-header>

      <toggle-register-login value="login"> </toggle-register-login>

    </ion-card-header>

  
    <ion-card-content >

      <ion-item *ngIf="!finishRegistrationMode; else finishRegistrationForm">
        <ion-label position="floating">
          {{ 'Email' | translate }}
        </ion-label>
        <ion-input 
          (ionChange)="checkEmail()"
          type="email" 
          [formControl]="email"
        ></ion-input>
      </ion-item>

      <div *ngIf="email.invalid && email.touched"
        class="alert alert-danger">
        <div *ngIf="email.errors.pattern">
          {{ "EmailError.DoesntMatchPattern" | translate}}
        </div>
      </div>

      <div *ngIf="emailNotExistingError"
        class="alert alert-danger">
        {{ "EmailError.EmailDoesntExist" | translate }}
      </div>
      
      <ion-item>
        <ion-label position="floating">
          {{ 'Password' | translate }}
        </ion-label>          
        <ion-input 
        type="password"
        [formControl]="password"></ion-input>
      </ion-item>

    </ion-card-content>

    <ion-button 
      size="large"
      expand="full" 
      [disabled]="!email.valid || emailNotExistingError || checkingEmail"
      (click)="login()">
      <ion-label *ngIf="checkingEmail">{{ 'CheckingEmail' | translate }}</ion-label>
      <ion-label *ngIf="!checkingEmail">{{ 'Register' | translate }}</ion-label>
    </ion-button>


  </ion-card>

</ion-content>
